<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Deploy FlashArb - Base Chain</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .container {
            background: white;
            border-radius: 20px;
            padding: 30px;
            max-width: 500px;
            width: 100%;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        
        h1 {
            color: #333;
            margin-bottom: 10px;
            font-size: 24px;
        }
        
        .subtitle {
            color: #666;
            margin-bottom: 25px;
            font-size: 14px;
        }
        
        .info-box {
            background: #f5f7fa;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            font-size: 13px;
            line-height: 1.6;
        }
        
        .info-box strong {
            color: #667eea;
        }
        
        button {
            width: 100%;
            padding: 16px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            margin-bottom: 10px;
        }
        
        button:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.4);
        }
        
        button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .status {
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
            font-size: 14px;
            line-height: 1.6;
        }
        
        .status.success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .status.error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        
        .status.info {
            background: #d1ecf1;
            color: #0c5460;
            border: 1px solid #bee5eb;
        }
        
        .address {
            word-break: break-all;
            background: #fff;
            padding: 10px;
            border-radius: 5px;
            margin-top: 10px;
            font-family: monospace;
            font-size: 12px;
        }
        
        .loader {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #667eea;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .link {
            color: #667eea;
            text-decoration: none;
            font-weight: 600;
        }
        
        .link:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üöÄ Deploy FlashArb</h1>
        <p class="subtitle">Base Chain (Chain ID: 8453)</p>
        
        <div class="info-box">
            <strong>Contrato:</strong> FlashArb<br>
            <strong>Rede:</strong> Base Mainnet<br>
            <strong>Gas Estimado:</strong> ~2-3M units
        </div>
        
        <button id="connectBtn" onclick="connectWallet()">
            üîó Conectar OKX Wallet
        </button>
        
        <button id="deployBtn" onclick="deployContract()" disabled style="display:none;">
            üìù Fazer Deploy do Contrato
        </button>
        
        <div id="status"></div>
    </div>

    <script>
        const BASE_CHAIN_ID = '0x2105'; // 8453 em hexadecimal
        const BYTECODE = '0x60a060405234801561000f575f5ffd5b503373ffffffffffffffffffffffffffffffffffffffff1660808173ffffffffffffffffffffffffffffffffffffffff1681525050608051612ea36100a25f395f81816102e1015281816106ea0152818161073d0152818161084c0152818161092101528181610a3a01528181610afc01528181610be501528181610cf601528181610e2301526118660152612ea35ff3fe6080604052600436106100c5575f3560e01c8063ad5c46481161007e578063e086e5ec11610058578063e086e5ec14610250578063f3fef3a314610266578063fa09e6301461028e578063fa461e33146102b6576100cc565b8063ad5c4648146101d2578063c59d4847146101fc578063d05411da14610228576100cc565b806328637f4a146100d05780632a59d975146101005780632dd310001461012a578063642f7d5e14610154578063860015191461017e5780638da5cb5b146101a8576100cc565b366100cc57005b5f5ffd5b6100ea60048036038101906100e5919061202d565b6102de565b6040516100f791906120ed565b60405180910390f35b34801561010b575f5ffd5b506101146106be565b60405161012191906120ed565b60405180910390f35b348015610135575f5ffd5b5061013e6106c4565b60405161014b9190612115565b60405180910390f35b34801561015f575f5ffd5b506101686106dc565b60405161017591906120ed565b60405180910390f35b348015610189575f5ffd5b506101926106e2565b60405161019f91906120ed565b60405180910390f35b3480156101b3575f5ffd5b506101bc6106e8565b6040516101c99190612115565b60405180910390f35b3480156101dd575f5ffd5b506101e661070c565b6040516101f39190612115565b60405180910390f35b348015610207575f5ffd5b50610210610724565b60405161021f9392919061212e565b60405180910390f35b348015610233575f5ffd5b5061024e60048036038101906102499190612163565b61073b565b005b34801561025b575f5ffd5b5061026461084a565b005b348015610271575f5ffd5b5061028c600480360381019061028791906121b3565b610a38565b005b348015610299575f5ffd5b506102b460048036038101906102af91906121f1565b610cf4565b005b3480156102c1575f5ffd5b506102dc60048036038101906102d791906122b0565b610f32565b005b5f7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161461036d576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016103649061237b565b60405180910390fd5b60055f9054906101000a900460ff16156103bc576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016103b3906123e3565b60405180910390fd5b600160055f6101000a81548160ff0219169083151502179055505f8811610418576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161040f9061244b565b60405180910390fd5b6040518061010001604052808a73ffffffffffffffffffffffffffffffffffffffff1681526020018873ffffffffffffffffffffffffffffffffffffffff1681526020018473ffffffffffffffffffffffffffffffffffffffff1681526020018762ffffff1681526020018662ffffff1681526020018562ffffff168152602001898152602001838152505f5f820151815f015f6101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506020820151816001015f6101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506040820151816002015f6101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060608201518160020160146101000a81548162ffffff021916908362ffffff16021790555060808201518160020160176101000a81548162ffffff021916908362ffffff16021790555060a082015181600201601a6101000a81548162ffffff021916908362ffffff16021790555060c0820151816003015560e08201518160040155905050610604898961135d565b5f8973ffffffffffffffffffffffffffffffffffffffff166370a08231306040518263ffffffff1660e01b815260040161063e9190612115565b602060405180830381865afa158015610659573d5f5f3e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061067d919061247d565b905061068b8a89898c611529565b6106968a828561172a565b9150505f60055f6101000a81548160ff02191690831515021790555098975050505050505050565b60075481565b7333128a8fc17869897dce68ed026d694621f6fdfd81565b60065481565b60085481565b7f000000000000000000000000000000000000000000000000000000000000000081565b73420000000000000000000000000000000000000681565b5f5f5f600654600754600854925092509250909192565b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16146107c9576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016107c09061237b565b60405180910390fd5b8273ffffffffffffffffffffffffffffffffffffffff1663095ea7b383836040518363ffffffff1660e01b81526004016108049291906124a8565b6020604051808303815f875af1158015610820573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906108449190612504565b50505050565b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16146108d8576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016108cf9061237b565b60405180910390fd5b5f4790505f811161091e576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161091590612579565b60405180910390fd5b5f7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff1682604051610963906125c4565b5f6040518083038185875af1925050503d805f811461099d576040519150601f19603f3d011682016040523d82523d5f602084013e6109a2565b606091505b50509050806109e6576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016109dd90612622565b60405180910390fd5b5f73ffffffffffffffffffffffffffffffffffffffff167f7fcf532c15f0a6db0bd6d0e038bea71d30d808c7d98cb3bf7268a95bf5081b6583604051610a2c91906120ed565b60405180910390a25050565b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614610ac6576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610abd9061237b565b60405180910390fd5b5f73ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1603610bc7575f7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff1682604051610b3e906125c4565b5f6040518083038185875af1925050503d805f8114610b78576040519150601f19603f3d011682016040523d82523d5f602084013e610b7d565b606091505b5050905080610bc1576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610bb890612622565b60405180910390fd5b50610ca2565b8173ffffffffffffffffffffffffffffffffffffffff1663a9059cbb7f0000000000000000000000000000000000000000000000000000000000000000836040518363ffffffff1660e01b8152600401610c229291906124a8565b6020604051808303815f875af1158015610c3e573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610c629190612504565b610ca1576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610c989061268a565b60405180910390fd5b5b8173ffffffffffffffffffffffffffffffffffffffff167f7fcf532c15f0a6db0bd6d0e038bea71d30d808c7d98cb3bf7268a95bf5081b6582604051610ce891906120ed565b60405180910390a25050565b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614610d82576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610d799061237b565b60405180910390fd5b5f8173ffffffffffffffffffffffffffffffffffffffff166370a08231306040518263ffffffff1660e01b8152600401610dbc9190612115565b602060405180830381865afa158015610dd7573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610dfb919061247d565b90505f811115610f2e578173ffffffffffffffffffffffffffffffffffffffff1663a9059cbb7f0000000000000000000000000000000000000000000000000000000000000000836040518363ffffffff1660e01b8152600401610e609291906124a8565b6020604051808303815f875af1158015610e7c573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610ea09190612504565b610edf576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610ed69061268a565b60405180910390fd5b8173ffffffffffffffffffffffffffffffffffffffff167f7fcf532c15f0a6db0bd6d0e038bea71d30d808c7d98cb3bf7268a95bf5081b6582604051610f2591906120ed565b60405180910390a25b5050565b60055f9054906101000a900460ff16610f80576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610f77906126f2565b60405180910390fd5b5f8282810190610f90919061274b565b90508073ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614611000576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610ff7906127c0565b60405180910390fd5b5f5f604051806101000160405290815f82015f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001600182015f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001600282015f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020016002820160149054906101000a900462ffffff1662ffffff1662ffffff1681526020016002820160179054906101000a900462ffffff1662ffffff1662ffffff16815260200160028201601a9054906101000a900462ffffff1662ffffff1662ffffff1681526020016003820154815260200160048201548152505090505f5f8713611199578561119b565b865b90505f5f8813611217578373ffffffffffffffffffffffffffffffffffffffff1663d21220a76040518163ffffffff1660e01b8152600401602060405180830381865afa1580156111ee573d5f5f3e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061121291906127f2565b611285565b8373ffffffffffffffffffffffffffffffffffffffff16630dfe16816040518163ffffffff1660e01b8152600401602060405180830381865afa158015611260573d5f5f3e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061128491906127f2565b5b905061129083611980565b61129983611c71565b8073ffffffffffffffffffffffffffffffffffffffff1663a9059cbb85846040518363ffffffff1660e01b81526004016112d49291906124a8565b6020604051808303815f875af11580156112f0573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906113149190612504565b611353576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161134a90612867565b60405180910390fd5b5050505050505050565b73420000000000000000000000000000000000000673ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161480156113ab57505f34115b15611468578034146113f2576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016113e9906128cf565b60405180910390fd5b73420000000000000000000000000000000000000673ffffffffffffffffffffffffffffffffffffffff1663d0e30db0346040518263ffffffff1660e01b81526004015f604051808303818588803b15801561144c575f5ffd5b505af115801561145e573d5f5f3e3d5ffd5b5050505050611525565b8173ffffffffffffffffffffffffffffffffffffffff166323b872dd3330846040518463ffffffff1660e01b81526004016114a5939291906128ed565b6020604051808303815f875af11580156114c1573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906114e59190612504565b611524576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161151b9061296c565b60405180910390fd5b5b5050565b5f7333128a8fc17869897dce68ed026d694621f6fdfd73ffffffffffffffffffffffffffffffffffffffff16631698ee828686866040518463ffffffff1660e01b815260040161157b93929190612999565b602060405180830381865afa158015611596573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906115ba91906127f2565b90505f73ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff160361162a576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161162190612a18565b60405180910390fd5b5f8473ffffffffffffffffffffffffffffffffffffffff168673ffffffffffffffffffffffffffffffffffffffff161090508173ffffffffffffffffffffffffffffffffffffffff1663128acb083083868561169a5773fffd8963efd1fc6a506488495d951d5263988d256116a1565b6401000276a45b876040516020016116b29190612115565b6040516020818303038152906040526040518663ffffffff1660e01b81526004016116e1959493929190612ad3565b60408051808303815f875af11580156116fc573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906117209190612b3f565b5050505050505050565b5f5f8473ffffffffffffffffffffffffffffffffffffffff166370a08231306040518263ffffffff1660e01b81526004016117659190612115565b602060405180830381865afa158015611780573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906117a4919061247d565b905082846117b29190612baa565b8110156117f4576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016117eb90612c27565b60405180910390fd5b83816118009190612c45565b915060065f81548092919061181490612c78565b919050555060075f81548092919061182b90612c78565b91905055508160085f8282546118419190612baa565b925050819055508473ffffffffffffffffffffffffffffffffffffffff1663a9059cbb7f0000000000000000000000000000000000000000000000000000000000000000846040518363ffffffff1660e01b81526004016118a39291906124a8565b6020604051808303815f875af11580156118bf573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906118e39190612504565b611922576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161191990612d09565b60405180910390fd5b8473ffffffffffffffffffffffffffffffffffffffff167fac5e73d65c7df1a72a57e0d680767c7e764095957ee44ec036b761799b56afd25f6003015484426040516119709392919061212e565b60405180910390a2509392505050565b5f816020015173ffffffffffffffffffffffffffffffffffffffff166370a08231306040518263ffffffff1660e01b81526004016119be9190612115565b602060405180830381865afa1580156119d9573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906119fd919061247d565b90505f7333128a8fc17869897dce68ed026d694621f6fdfd73ffffffffffffffffffffffffffffffffffffffff16631698ee828460200151856040015186608001516040518463ffffffff1660e01b8152600401611a5d93929190612999565b602060405180830381865afa158015611a78573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190611a9c91906127f2565b90505f73ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1603611b0c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611b0390612d71565b60405180910390fd5b826020015173ffffffffffffffffffffffffffffffffffffffff1663095ea7b382846040518363ffffffff1660e01b8152600401611b4b9291906124a8565b6020604051808303815f875af1158015611b67573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190611b8b9190612504565b505f836040015173ffffffffffffffffffffffffffffffffffffffff16846020015173ffffffffffffffffffffffffffffffffffffffff161090508173ffffffffffffffffffffffffffffffffffffffff1663128acb0830838685611c045773fffd8963efd1fc6a506488495d951d5263988d25611c0b565b6401000276a45b6040518563ffffffff1660e01b8152600401611c2a9493929190612daf565b60408051808303815f875af1158015611c45573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190611c699190612b3f565b505050505050565b5f816040015173ffffffffffffffffffffffffffffffffffffffff166370a08231306040518263ffffffff1660e01b8152600401611caf9190612115565b602060405180830381865afa158015611cca573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190611cee919061247d565b90505f7333128a8fc17869897dce68ed026d694621f6fdfd73ffffffffffffffffffffffffffffffffffffffff16631698ee828460400151855f01518660a001516040518463ffffffff1660e01b8152600401611d4d93929190612999565b602060405180830381865afa158015611d68573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190611d8c91906127f2565b90505f73ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1603611dfc576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611df390612e4f565b60405180910390fd5b826040015173ffffffffffffffffffffffffffffffffffffffff1663095ea7b382846040518363ffffffff1660e01b8152600401611e3b9291906124a8565b6020604051808303815f875af1158015611e57573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190611e7b9190612504565b505f835f015173ffffffffffffffffffffffffffffffffffffffff16846040015173ffffffffffffffffffffffffffffffffffffffff161090508173ffffffffffffffffffffffffffffffffffffffff1663128acb0830838685611ef35773fffd8963efd1fc6a506488495d951d5263988d25611efa565b6401000276a45b6040518563ffffffff1660e01b8152600401611f199493929190612daf565b60408051808303815f875af1158015611f34573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190611f589190612b3f565b505050505050565b5f5ffd5b5f5ffd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f611f9182611f68565b9050919050565b611fa181611f87565b8114611fab575f5ffd5b50565b5f81359050611fbc81611f98565b92915050565b5f819050919050565b611fd481611fc2565b8114611fde575f5ffd5b50565b5f81359050611fef81611fcb565b92915050565b5f62ffffff82169050919050565b61200c81611ff5565b8114612016575f5ffd5b50565b5f8135905061202781612003565b92915050565b5f5f5f5f5f5f5f5f610100898b03121561204a57612049611f60565b5b5f6120578b828c01611fae565b98505060206120688b828c01611fe1565b97505060406120798b828c01611fae565b965050606061208a8b828c01612019565b955050608061209b8b828c01612019565b94505060a06120ac8b828c01612019565b93505060c06120bd8b828c01611fae565b92505060e06120ce8b828c01611fe1565b9150509295985092959890939650565b6120e781611fc2565b82525050565b5f6020820190506121005f8301846120de565b92915050565b61210f81611f87565b82525050565b5f6020820190506121285f830184612106565b92915050565b5f6060820190506121415f8301866120de565b61214e60208301856120de565b61215b60408301846120de565b949350505050565b5f5f5f6060848603121561217a57612179611f60565b5b5f61218786828701611fae565b935050602061219886828701611fae565b92505060406121a986828701611fe1565b9150509250925092565b5f5f604083850312156121c9576121c8611f60565b5b5f6121d685828601611fae565b92505060206121e785828601611fe1565b9150509250929050565b5f6020828403121561220657612205611f60565b5b5f61221384828501611fae565b91505092915050565b5f819050919050565b61222e8161221c565b8114612238575f5ffd5b50565b5f8135905061224981612225565b92915050565b5f5ffd5b5f5ffd5b5f5ffd5b5f5f83601f8401126122705761226f61224f565b5b8235905067ffffffffffffffff81111561228d5761228c612253565b5b6020830191508360018202830111156122a9576122a8612257565b5b9250929050565b5f5f5f5f606085870312156122c8576122c7611f60565b5b5f6122d58782880161223b565b94505060206122e68782880161223b565b935050604085013567ffffffffffffffff81111561230757612306611f64565b5b6123138782880161225b565b925092505092959194509250565b5f82825260208201905092915050565b7f4e6f74206f776e657200000000000000000000000000000000000000000000005f82015250565b5f612365600983612321565b915061237082612331565b602082019050919050565b5f6020820190508181035f83015261239281612359565b9050919050565b7f5265656e7472616e7400000000000000000000000000000000000000000000005f82015250565b5f6123cd600983612321565b91506123d882612399565b602082019050919050565b5f6020820190508181035f8301526123fa816123c1565b9050919050565b7f416d6f756e74207a65726f0000000000000000000000000000000000000000005f82015250565b5f612435600b83612321565b915061244082612401565b602082019050919050565b5f6020820190508181035f83015261246281612429565b9050919050565b5f8151905061247781611fcb565b92915050565b5f6020828403121561249257612491611f60565b5b5f61249f84828501612469565b91505092915050565b5f6040820190506124bb5f830185612106565b6124c860208301846120de565b9392505050565b5f8115159050919050565b6124e3816124cf565b81146124ed575f5ffd5b50565b5f815190506124fe816124da565b92915050565b5f6020828403121561251957612518611f60565b5b5f612526848285016124f0565b91505092915050565b7f4e6f2045544800000000000000000000000000000000000000000000000000005f82015250565b5f612563600683612321565b915061256e8261252f565b602082019050919050565b5f6020820190508181035f83015261259081612557565b9050919050565b5f81905092915050565b50565b5f6125af5f83612597565b91506125ba826125a1565b5f82019050919050565b5f6125ce826125a4565b9150819050919050565b7f455448207472616e73666572206661696c6564000000000000000000000000005f82015250565b5f61260c601383612321565b9150612617826125d8565b602082019050919050565b5f6020820190508181035f83015261263981612600565b9050919050565b7f546f6b656e207472616e73666572206661696c656400000000000000000000005f82015250565b5f612674601583612321565b915061267f82612640565b602082019050919050565b5f6020820190508181035f8301526126a181612668565b9050919050565b7f4e6f7420696e20666c61736800000000000000000000000000000000000000005f82015250565b5f6126dc600c83612321565b91506126e7826126a8565b602082019050919050565b5f6020820190508181035f830152612709816126d0565b9050919050565b5f61271a82611f68565b9050919050565b61272a81612710565b8114612734575f5ffd5b50565b5f8135905061274581612721565b92915050565b5f602082840312156127605761275f611f60565b5b5f61276d84828501612737565b91505092915050565b7f496e76616c69642063616c6c65720000000000000000000000000000000000005f82015250565b5f6127aa600e83612321565b91506127b582612776565b602082019050919050565b5f6020820190508181035f8301526127d78161279e565b9050919050565b5f815190506127ec81611f98565b92915050565b5f6020828403121561280757612806611f60565b5b5f612814848285016127de565b91505092915050565b7f52657061796d656e74206661696c6564000000000000000000000000000000005f82015250565b5f612851601083612321565b915061285c8261281d565b602082019050919050565b5f6020820190508181035f83015261287e81612845565b9050919050565b7f56616c7565206d69736d617463680000000000000000000000000000000000005f82015250565b5f6128b9600e83612321565b91506128c482612885565b602082019050919050565b5f6020820190508181035f8301526128e6816128ad565b9050919050565b5f6060820190506129005f830186612106565b61290d6020830185612106565b61291a60408301846120de565b949350505050565b7f5472616e73666572206661696c656400000000000000000000000000000000005f82015250565b5f612956600f83612321565b915061296182612922565b602082019050919050565b5f6020820190508181035f8301526129838161294a565b9050919050565b61299381611ff5565b82525050565b5f6060820190506129ac5f830186612106565b6129b96020830185612106565b6129c6604083018461298a565b949350505050565b7f506f6f6c31206e6f7420666f756e6400000000000000000000000000000000005f82015250565b5f612a02600f83612321565b9150612a0d826129ce565b602082019050919050565b5f6020820190508181035f830152612a2f816129f6565b9050919050565b612a3f816124cf565b82525050565b612a4e8161221c565b82525050565b612a5d81611f68565b82525050565b5f81519050919050565b5f82825260208201905092915050565b8281835e5f83830152505050565b5f601f19601f8301169050919050565b5f612aa582612a63565b612aaf8185612a6d565b9350612abf818560208601612a7d565b612ac881612a8b565b840191505092915050565b5f60a082019050612ae65f830188612106565b612af36020830187612a36565b612b006040830186612a45565b612b0d6060830185612a54565b8181036080830152612b1f8184612a9b565b90509695505050505050565b5f81519050612b3981612225565b92915050565b5f5f60408385031215612b5557612b54611f60565b5b5f612b6285828601612b2b565b9250506020612b7385828601612b2b565b9150509250929050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52601160045260245ffd5b5f612bb482611fc2565b9150612bbf83611fc2565b9250828201905080821115612bd757612bd6612b7d565b5b92915050565b7f496e73756666696369656e742070726f666974000000000000000000000000005f82015250565b5f612c11601383612321565b9150612c1c82612bdd565b602082019050919050565b5f6020820190508181035f830152612c3e81612c05565b9050919050565b5f612c4f82611fc2565b9150612c5a83611fc2565b9250828203905081811115612c7257612c71612b7d565b5b92915050565b5f612c8282611fc2565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8203612cb457612cb3612b7d565b5b600182019050919050565b7f50726f666974207472616e73666572206661696c6564000000000000000000005f82015250565b5f612cf3601683612321565b9150612cfe82612cbf565b602082019050919050565b5f6020820190508181035f830152612d2081612ce7565b9050919050565b7f506f6f6c32206e6f7420666f756e6400000000000000000000000000000000005f82015250565b5f612d5b600f83612321565b9150612d6682612d27565b602082019050919050565b5f6020820190508181035f830152612d8881612d4f565b9050919050565b5f612d9a5f83612a6d565b9150612da5826125a1565b5f82019050919050565b5f60a082019050612dc25f830187612106565b612dcf6020830186612a36565b612ddc6040830185612a45565b612de96060830184612a54565b8181036080830152612dfa81612d8f565b905095945050505050565b7f506f6f6c33206e6f7420666f756e6400000000000000000000000000000000005f82015250565b5f612e39600f83612321565b9150612e4482612e05565b602082019050919050565b5f6020820190508181035f830152612e6681612e2d565b905091905056fea26469706673582212208149bb0cfa4b7921c9e11929df1aa1d8f2d0bf5539e612b50777338d5a2011f864736f6c634300081f0033';
        
        let provider;
        let signer;
        let userAddress;
        
        async function connectWallet() {
            const statusDiv = document.getElementById('status');
            const connectBtn = document.getElementById('connectBtn');
            const deployBtn = document.getElementById('deployBtn');
            
            try {
                statusDiv.innerHTML = '<div class="status info">üîÑ Conectando √† OKX Wallet...</div>';
                
                // Verifica se OKX Wallet est√° dispon√≠vel
                if (typeof window.okxwallet === 'undefined') {
                    throw new Error('OKX Wallet n√£o detectada! Instale a extens√£o OKX Wallet.');
                }
                
                // Solicita conex√£o
                const accounts = await window.okxwallet.request({ 
                    method: 'eth_requestAccounts' 
                });
                
                userAddress = accounts[0];
                provider = window.okxwallet;
                
                // Verifica se est√° na rede Base
                const chainId = await provider.request({ method: 'eth_chainId' });
                
                if (chainId !== BASE_CHAIN_ID) {
                    statusDiv.innerHTML = '<div class="status info">üîÑ Mudando para Base Chain...</div>';
                    
                    try {
                        await provider.request({
                            method: 'wallet_switchEthereumChain',
                            params: [{ chainId: BASE_CHAIN_ID }],
                        });
                    } catch (switchError) {
                        // Se a rede n√£o existe, adiciona
                        if (switchError.code === 4902) {
                            await provider.request({
                                method: 'wallet_addEthereumChain',
                                params: [{
                                    chainId: BASE_CHAIN_ID,
                                    chainName: 'Base',
                                    nativeCurrency: {
                                        name: 'Ethereum',
                                        symbol: 'ETH',
                                        decimals: 18
                                    },
                                    rpcUrls: ['https://mainnet.base.org'],
                                    blockExplorerUrls: ['https://basescan.org']
                                }],
                            });
                        } else {
                            throw switchError;
                        }
                    }
                }
                
                statusDiv.innerHTML = `<div class="status success">‚úÖ Conectado!<div class="address">Endere√ßo: ${userAddress}</div></div>`;
                connectBtn.style.display = 'none';
                deployBtn.style.display = 'block';
                deployBtn.disabled = false;
                
            } catch (error) {
                statusDiv.innerHTML = `<div class="status error">‚ùå Erro ao conectar: ${error.message}</div>`;
                console.error(error);
            }
        }
        
        async function deployContract() {
            const statusDiv = document.getElementById('status');
            const deployBtn = document.getElementById('deployBtn');
            
            try {
                deployBtn.disabled = true;
                statusDiv.innerHTML = '<div class="status info">üìù Preparando transa√ß√£o de deploy...<div class="loader"></div></div>';
                
                // Estima gas
                const gasEstimate = await provider.request({
                    method: 'eth_estimateGas',
                    params: [{
                        from: userAddress,
                        data: BYTECODE
                    }]
                });
                
                statusDiv.innerHTML = '<div class="status info">‚õΩ Gas estimado: ' + parseInt(gasEstimate, 16).toLocaleString() + ' units<div class="loader"></div></div>';
                
                // Envia transa√ß√£o
                statusDiv.innerHTML = '<div class="status info">üîê Aguardando assinatura na OKX Wallet...<div class="loader"></div></div>';
                
                const txHash = await provider.request({
                    method: 'eth_sendTransaction',
                    params: [{
                        from: userAddress,
                        data: BYTECODE,
                        gas: '0x' + (parseInt(gasEstimate, 16) * 1.2).toString(16) // 20% buffer
                    }]
                });
                
                statusDiv.innerHTML = `<div class="status info">‚è≥ Deploy em andamento...<div class="address">TX: ${txHash}</div><div class="loader"></div></div>`;
                
                // Aguarda confirma√ß√£o
                let receipt = null;
                let attempts = 0;
                while (!receipt && attempts < 60) {
                    await new Promise(resolve => setTimeout(resolve, 2000));
                    receipt = await provider.request({
                        method: 'eth_getTransactionReceipt',
                        params: [txHash]
                    });
                    attempts++;
                }
                
                if (receipt && receipt.contractAddress) {
                    statusDiv.innerHTML = `
                        <div class="status success">
                            üéâ <strong>Deploy realizado com sucesso!</strong><br><br>
                            <strong>Endere√ßo do Contrato:</strong>
                            <div class="address">${receipt.contractAddress}</div><br>
                            <strong>TX Hash:</strong>
                            <div class="address">${txHash}</div><br>
                            <a href="https://basescan.org/address/${receipt.contractAddress}" target="_blank" class="link">
                                Ver no BaseScan ‚Üí
                            </a>
                        </div>
                    `;
                } else {
                    throw new Error('Transa√ß√£o n√£o foi confirmada a tempo');
                }
                
            } catch (error) {
                statusDiv.innerHTML = `<div class="status error">‚ùå Erro no deploy: ${error.message}</div>`;
                console.error(error);
                deployBtn.disabled = false;
            }
        }
        
        // Auto-detecta OKX Wallet ao carregar
        window.addEventListener('load', () => {
            if (typeof window.okxwallet !== 'undefined') {
                document.getElementById('status').innerHTML = '<div class="status info">‚úÖ OKX Wallet detectada! Clique para conectar.</div>';
            } else {
                document.getElementById('status').innerHTML = '<div class="status error">‚ö†Ô∏è OKX Wallet n√£o detectada. Instale a extens√£o ou app OKX.</div>';
            }
        });
    </script>
</body>
</html>
