<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BrutalArb Deploy</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        .container {
            background: white;
            border-radius: 20px;
            padding: 30px;
            max-width: 600px;
            margin: 0 auto;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        h1 { color: #667eea; margin-bottom: 15px; font-size: 24px; }
        .info-box {
            background: #f7f9fc;
            border-left: 4px solid #667eea;
            padding: 12px;
            margin: 15px 0;
            border-radius: 8px;
            font-size: 13px;
            color: #666;
        }
                .status {
            padding: 12px;
            border-radius: 10px;
            margin: 15px 0;
            display: none;
        }
        .status.show { display: block; }
        .status.success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .status.error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        button {
            width: 100%;
            padding: 16px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            margin: 10px 0;
        }
                button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }
        .contract-box {
            background: #f7f9fc;
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
            display: none;
        }
        .contract-box.show { display: block; }
        .contract-address {
            background: white;
            padding: 10px;
            border-radius: 8px;
            font-family: monospace;
            font-size: 11px;
            word-break: break-all;
            margin: 10px 0;
            border: 1px solid #e0e0e0;
        }
        .loading {
            display: inline-block;
            width: 14px;
            height: 14px;
            border: 2px solid rgba(255,255,255,.3);
            border-radius: 50%;
            border-top-color: #fff;
            animation: spin 1s ease-in-out infinite;
        }
        @keyframes spin { to { transform: rotate(360deg); } }
    </style>
</head>
<body>
    <div class="container">
        <h1>üöÄ BrutalArb Deploy</h1>
        
        <div class="info-box">
            ‚ö†Ô∏è <strong>Base Network</strong> (Chain ID: 8453)<br>
            üí∞ Gas necess√°rio: ~0.002 ETH
        </div>

        <div id="statusMsg" class="status"></div>

        <button onclick="connectAndDeploy()">
            üîó Conectar & Deploy
        </button>

        <div id="contractBox" class="contract-box">
            <h3>‚úÖ Sucesso!</h3>
            <p><strong>Contrato:</strong></p>
            <div class="contract-address" id="contractAddr"></div>
            <button onclick="copyAddr()" style="background: #10b981; padding: 10px; font-size: 14px;">
                üìã Copiar
            </button>
        </div>
    </div>

    <script>
                let provider;
        let userAddr;

        // BYTECODE DO CONTRATO
        const BYTECODE = "0x608060405234801561001057600080fd5b50336000806101000a81548173ffffffffffffffff" +
        "ffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550611ce6806100" +
        "606000396000f3fe608060405234801561001057600080fd5b50600436106100cf5760003560e01c80638da5cb5b1161" +
        "008c578063d96a094a11610066578063d96a094a146101b3578063e941fa78146101cf578063f2fde38b146101ed5780" +
        "63f3fef3a314610209576100cf565b80638da5cb5b14610163578063a2e6204514610181578063d4fac45d1461019d57" +
                    "6100cf565b806315ac72ca146100d457806328ffe6c8146100f25780633ccfd60b1461011057806341275358146101" +
        "285780635c60da1b1461013257806370a0823114610150575b600080fd5b6100dc610225565b6040516100e991906115" +
        "59565b60405180910390f35b6100fa61022b565b60405161010791906115595656b6040518091039060405180910390f3" +
        "5b610118610231565b005b6101306102f4565b005b61013a6103b7565b60405161014791906115a5565b6040518091" +
        "0390f35b61016a600480360381019061016591906115f6565b6103dd565b6040516101779190611559565b6040518091" +
        "0390f35b610189610426565b6040516101949190611559565b60405180910390f35b6101a561042c565b604051610" +
                    "1b29190611559565b60405180910390f35b6101cd60048036038101906101c89190611623565b610432565b005b61" +
        "01d76106db565b6040516101e49190611559565b60405180910390f35b610207600480360381019061020291906115" +
        "f6565b6106e1565b005b610223600480360381019061021e919061164e565b6107dd565b005b60015481565b6002548156" +
        "5b60008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffff" +
        "ffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16146102bf576040517f08c379a000" +
        "000000000000000000000000000000000000000000000000000000815260040161029690611b6e0565b60405180910390" +
                    "fd5b60008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673fffffffffffffffffffff" +
        "fffffffffffffff16ff5b60008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffff" +
        "ffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614610382576040" +
        "517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610379906116e0565b" +
        "60405180910390fd5b60008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffff" +
        "ffffffffffffffffffffffffffffffff16ff5b60008054906101000a900473ffffffffffffffffffffffffffffffff" +
                    "ffffff1681565b60008173ffffffffffffffffffffffffffffffffffffffff166370a08231306040518263ffffffff" +
        "1660e01b815260040161041891906115a5565b602060405180830381865afa158015610435573d6000803e3d6000fd5b50" +
        "5050506040513d601f19601f820116820180604052508101906104599190611715565b9050919050565b60035481565b" +
        "60025481565b60008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffff" +
        "ffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16146104c0576040517f08" +
        "c379a00000000000000000000000000000000000000000000000000000000081526004016104b7906116e0565b604051" +
                    "80910390fd5b6000811161050a576040517f08c379a00000000000000000000000000000000000000000000000000000" +
        "0000815260040161050190611678e565b60405180910390fd5b6001600360008282546105199190611740565b92505081" +
        "9055508273ffffffffffffffffffffffffffffffffffffffff166323b872dd3330856040518463ffffffff1660e01b81" +
        "5260040161055d939291906117ad565b6020604051808303816000875af115801561057c573d6000803e3d6000fd5b50" +
        "5050506040513d601f19601f820116820180604052508101906105a091906117f9565b506000806105af86868661087f" +
        "565b9150915080856105bf9190611826565b841061060057600160025f8282546105d79190611740565b92505081905550" +
                    "858585856040516105f29493929190611859565b60405180910390a1806106d3565b6040517f08c379a000000000" +
        "000000000000000000000000000000000000000000000000815260040161063290611690c565b60405180910390fd5b83" +
        "73ffffffffffffffffffffffffffffffffffffffff166323b872dd3033866040518463ffffffff1660e01b8152600401" +
        "610670939291906117ad565b6020604051808303816000875af115801561068f573d6000803e3d6000fd5b505050506040" +
        "513d601f19601f820116820180604052508101906106b391906117f9565b505050505050565b60005481565b60008054" +
        "906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffff" +
        "ffffff163373ffffffffffffffffffffffffffffffffffffffff161461076f576040517f08c379a00000000000000000" +
        "0000000000000000000000000000000000000000008152600401610766906116e0565b60405180910390fd5b8060008060" +
        "01000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffff" +
        "ffffffffff16021790555050565b60008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ff" +
        "ffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161461086b5760" +
        "40517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610862906116e0565b" +
        "60405180910390fd5b610875828261098b565b5050565b5050565b6000806000905060005b60058163ffffffff16101561" +
        "0982576000806108aa898989878960ff16610a82565b915091508115610976578086106108f157858510156108d1578461" +
        "08ce90611826565b93505b8486106108e757836108e490611740565b92505b859550610976565b8587106109135782610904" +
        "905081611826565b90506001860395505b808710610921575050610982565b8189610931919061192b565b111561096b5781" +
        "8961094391906119a0565b995088841061095a57836109589050611740565b91505b8398508497508196505050610976565b50" +
        "5050610982565b50508080600101915050610887565b50509250929050565b8173ffffffffffffffffffffffffffffff" +
        "ffffffffff1663a9059cbb33836040518363ffffffff1660e01b81526004016109c69291906119d1565b6020604051808303" +
        "816000875af11580156109e5573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190" +
        "610a0991906117f9565b505050565b6000819050919050565b600060029050919050565b6000808211610a67576040517f08" +
        "c379a0000000000000000000000000000000000000000000000000000000008152600401610a5e90611a46565b6040518091" +
        "0390fd5b8160ff16610a7683600161098b565b50509392505050565b6000610a9587878787610a1890919063ffffffff16565b" +
        "90509695505050505050565b5f819050919050565b610ab381610aa1565b82525050565b5f602082019050610acc5f83018461" +
        "0aaa565b92915050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f610aff82" +
        "610ad6565b9050919050565b610b0f81610af5565b8114610b19575f80fd5b50565b5f81359050610b2a81610b06565b921915" +
        "50565b5f60208284031215610b4557610b44610ad2565b5b5f610b5284828501610b1c565b91505092915050565b610b6481" +
        "610af5565b82525050565b5f602082019050610b7d5f830184610b5b565b92915050565b610b8c81610aa1565b8114610b9657" +
        "5f80fd5b50565b5f81359050610ba781610b83565b92915050565b5f8060408385031215610bc357610bc2610ad2565b5b5f61" +
        "0bd085828601610b1c565b9250506020610be185828601610b99565b9150509250929050565b5f82825260208201905092915050" +
        "565b7f4e6f74206f776e65720000000000000000000000000000000000000000000000600082015250565b5f610c2f60098361" +
        "0beb565b9150610c3a82610bfb565b602082019050919050565b5f6020820190508181035f830152610c5c81610c22565b905091" +
        "9050565b7f496e76616c696420616d6f756e74000000000000000000000000000000000000600082015250565b5f610c97600e" +
        "83610beb565b9150610ca282610c63565b602082019050919050565b5f6020820190508181035f830152610cc481610c8a565b90" +
        "50919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52601160045260245ffd5b" +
        "5f610d0282610aa1565b9150610d0d83610aa1565b9250828201905080821115610d2557610d24610ccb565b5b92915050565b5f" +
        "819050919050565b5f610d4e610d49610d4484610ad6565b610d2b565b610ad6565b9050919050565b5f610d5f82610d34565b90" +
        "50919050565b5f610d7082610d55565b9050919050565b610d8081610d66565b82525050565b5f606082019050610d995f83018661" +
        "0d77565b610da66020830185610aaa565b610db36040830184610aaa565b949350505050565b5f8115159050919050565b610dcf" +
        "81610dbb565b8114610dd9575f80fd5b50565b5f81519050610dea81610dc6565b92915050565b5f60208284031215610e055761" +
        "0e04610ad2565b5b5f610e1284828501610ddc565b91505092915050565b7f4e6f2070726f66697400000000000000000000000000" +
        "000000000000000000005f82015250565b5f610e4f600983610beb565b9150610e5a82610e1b565b602082019050919050565b5f" +
        "6020820190508181035f830152610e7c81610e42565b9050919050565b5f610e8d82610aa1565b9150610e9883610aa1565b9250" +
        "828203905081811115610eb057610eaf610ccb565b5b92915050565b5f819050919050565b5f60ff82169050919050565b5f610ee5" +
        "610ee0610edb84610eb6565b610d2b565b610ec0565b9050919050565b610ef581610ecb565b82525050565b5f608082019050610f" +
        "0e5f830187610aaa565b610f1b6020830186610aaa565b610f286040830185610aaa565b610f356060830184610eec565b9594505050" +
        "5050565b5f81519050610f4c81610b83565b92915050565b5f60208284031215610f6757610f66610ad2565b5b5f610f74848285" +
        "01610f3e565b91505092915050565b7f496e76616c696420616464726573730000000000000000000000000000000000600082015250" +
        "565b5f610fb1600f83610beb565b9150610fbc82610f7d565b602082019050919050565b5f6020820190508181035f830152610fde" +
        "81610fa5565b9050919050565b5f610fef82610aa1565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffff8203" +
        "61102157611020610ccb565b5b600182019050919050565b5f61103682610aa1565b915061104183610aa1565b92508282026110" +
        "4f81610aa1565b91508282048414831517611066576110659150610ccb565b5b5092915050565b5f61107782610aa1565b915061108" +
        "283610aa1565b925082820390508181126000841216828213600085121516171561108f5761108e610ccb565b5b92915050565b610" +
        "b9881610ec0565b82525050565b5f6080820190506110ad5f830187610aaa565b6110ba6020830186610aaa565b6110c7604083018" +
        "5610aaa565b6110d46060830184611095565b95945050505050565b5f819050919050565b5f6111006110fb6110f6846110dd565b61" +
        "0d2b565b610aa1565b9050919050565b611110816110e6565b82525050565b5f60408201905061112a5f830185611107565b61113760" +
        "20830184611107565b939250505056fea264697066735822122064c6f7e3b8a9d5f2c1e4b7a8d5e2f1c3b6a9d5e2f1c3b6a9" +
        "64736f6c63430008140033";

        async function connectAndDeploy() {
            try {
                // Detectar provider
                if (typeof window.ethereum === 'undefined' && typeof window.okxwallet === 'undefined') {
                    showMsg("‚ùå Wallet n√£o encontrada. Abre na OKX Wallet!", "error");
                    return;
                }

                provider = window.okxwallet || window.ethereum;
                                showMsg("üîÑ A conectar...", "success");
                
                // Pedir acesso
                const accounts = await provider.request({
                    method: 'eth_requestAccounts'
                });
                
                userAddr = accounts[0];
                showMsg(`‚úÖ Conectado: ${userAddr.slice(0,6)}...`, "success");
                
                // Verificar rede
                const chainId = await provider.request({ method: 'eth_chainId' });
                
                if (chainId !== '0x2105') {
                    showMsg("üîÑ A mudar para Base Network...", "success");
                    try {
                        await provider.request({
                            method: 'wallet_switchEthereumChain',
                            params: [{ chainId: '0x2105' }]
                        });
                    } catch (switchError) {
                        if (switchError.code === 4902) {
                            await provider.request({
                                method: 'wallet_addEthereumChain',
                                params: [{
                                    chainId: '0x2105',
                                    chainName: 'Base',
                                    nativeCurrency: { name: 'ETH', symbol: 'ETH', decimals: 18 },
                                    rpcUrls: ['https://mainnet.base.org'],
                                    blockExplorerUrls: ['https://basescan.org']
                                }]
                            });
                        } else {
                            throw switchError;
                        }
                    }
                }
                                // Deploy
                showMsg("üöÄ A deployar contrato...", "success");
                
                const txHash = await provider.request({
                    method: 'eth_sendTransaction',
                    params: [{
                        from: userAddr,
                        data: BYTECODE,
                        gas: '0x2DC6C0' // 3000000
                    }]
                });
                
                showMsg(`üì§ TX enviada: ${txHash.slice(0,10)}...`, "success");
                
                // Aguardar receipt
                let receipt = null;
                let attempts = 0;
                while (!receipt && attempts < 60) {
                    await new Promise(r => setTimeout(r, 2000));
                    receipt = await provider.request({
                        method: 'eth_getTransactionReceipt',
                        params: [txHash]
                    });
                    attempts++;
                }
                
                if (receipt && receipt.contractAddress) {
                    document.getElementById('contractAddr').textContent = receipt.contractAddress;
                    document.getElementById('contractBox').classList.add('show');
                    showMsg("‚úÖ Contrato deployado com sucesso!", "success");
                } else {
                    showMsg("‚è±Ô∏è Timeout. Verifica no BaseScan: " + txHash, "error");
                }
                
            } catch (error) {
                console.error(error);
                if (error.code === 4001) {
                    showMsg("‚ùå Rejeitaste a transa√ß√£o", "error");
                } else {
                    showMsg(`‚ùå Erro: ${error.message || 'Desconhecido'}`, "error");
                }
            }
        }

        function copyAddr() {
            const addr = document.getElementById('contractAddr').textContent;
            navigator.clipboard.writeText(addr).then(() => {
                alert('‚úÖ Endere√ßo copiado!');
            }).catch(() => {
                alert('‚ùå Erro ao copiar');
            });
        }

        function showMsg(msg, type) {
            const el = document.getElementById('statusMsg');
            el.textContent = msg;
            el.className = `status show ${type}`;
        }
    </script>
</body>
</html>

                
